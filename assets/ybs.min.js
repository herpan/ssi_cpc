window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));function get_random_color(){var f=["bg-blue-lightest","bg-green-lightest","bg-red-lightest","bg-indigo-lightest","bg-purple-lightest","bg-pink-lightest","bg-orange-lightest","bg-yellow-lightest","bg-lime-lightest","bg-teal-lightest","bg-gray-lightest"],j=f[Math.floor(Math.random()*f.length)];return j}$(".focus-color").focus(function(){$(this).css("background-color","#fff09e")});var color_entered="",def_color_t1="",def_color_t2="",title1="",title2="";$(".btn-card").mouseenter(function(){title1=$(this)[0].children[0].children[1].children[0],title2=$(this)[0].children[0].children[1].children[1],def_color_t1=title1.classList[2],def_color_t2=title2.classList[2],color_entered="text-white",$(title1).removeClass(def_color_t1),$(title2).removeClass(def_color_t2),$(title1).addClass(color_entered),$(title2).addClass(color_entered)}).mouseleave(function(){$(title1).removeClass(color_entered),$(title2).removeClass(color_entered)}),$(".focus-color").blur(function(){$(this).css({"background-color":""})});function ucfirst(f){return"string"==typeof f?f.charAt(0).toUpperCase()+f.slice(1):""}$("#general_check").change(function(){var f=$("#general_check").prop("checked");$(".checkbox").prop("checked",f).iCheck("update")}),$(".checkbox , input[type=\"checkbox\"].flat-red").click(function(){var f=$(this).prop("checked");!1==f&&$("#general_check").prop("checked",!1);var i=$(".checkbox").length,j=$(".checkbox:checked").length;j==i&&$("#general_check").prop("checked",!0)});function action_change(f,i){$("#"+i).change(function(){var j=$("#"+i).prop("checked");$("#"+f+" .checkbox").prop("checked",j).iCheck("update")})}var ybs_table=$("table.ybs-table");$.each(ybs_table,function(f,i){id_table=i.id,$("#"+id_table+".ybs-table th.checkbox-header").append("<label><input id=\"header-checkbox-"+id_table+"\" type=\"checkbox\" class=\"header-checkbox\"> </label>"),id_header="header-checkbox-"+id_table,action_change(id_table,id_header)}),$(".header-checkbox").change(function(){var f=$(this).attr("id"),i=f.toString(),j=i.replace("header-checkbox-","");action_change(j,f)});var stop="false";$(".table").delegate("tr.ybs-rows-click","click",function(f){if("checkbox"!==f.target.type){$(":checkbox",this).trigger("click");var i=$(":checkbox",this).prop("checked");$(":checkbox",this).prop("checked",!i).iCheck("update"),stop="true"}});var stops="false";$(".table").delegate("tr.ybs-rows-click.sound-table","click",function(f){if("checkbox"!==f.target.type){$(":checkbox",this).trigger("click");var i=$(":checkbox",this).prop("checked");$(":checkbox",this).prop("checked",!i).iCheck("update"),play_sound_apply(),stops="true"}}),function(f){f.fn.get_checked=function(i){(""==i||null==i)&&(i=f(this).attr("id"));var j=[],k=f("#"+i+" .checkbox").length,l=f("#"+i+" .checkbox:checked").length,m=f("#"+i+" .checkbox:checked");for(x=0;x<l;x++){var n="";n=m[x].value,j.push(n.trim())}return j}}(jQuery);function get_checked_table(){var f=[],i=$(".checkbox").length,j=$(".checkbox:checked").length,k=$(".checkbox:checked");for(x=0;x<j;x++){var l="";l=k[x].value,f.push(l.trim())}return f}function get_total_value_table(f){var i=$(f).length,j=$(f);for(x=0;x<i;x++)ss=j[x].text;return ss}function get_json_format(f,i){try{var j=i.toString();v1=j.replace(/\\/gi,"\\\\"),v2=v1.replace(/\"/gi,"\\\""),v2=v2.replace(/\&/gi,"%26"),v2=v2.replace(/\+/gi,"%2B"),k1=f.replace(/\\/gi,"\\\\"),k2=k1.replace(/\"/gi,"\\\""),k2=k2.replace(/\&/gi,"%26");var k=$("#"+f);return void 0===k||$(k).hasClass("ybs-input-number")&&(v2=v2.replace(/\,/gi,"")),obj="\""+k2.trim()+"\":\""+v2.trim()+"\"",obj}catch(i){return"\""+f+"\":\"\""}}(function(f){f.fn.ybs_json=function(i){var j=i;(""==j||null==j||void 0===j)&&(j=f(this).attr("name"),(""==j||null==j||void 0===j)&&(j=f(this).attr("id")));var k;return void 0===j||(k=get_json_format(j,f(this).val())),k}})(jQuery);function ybs_dataSending(f){var i="";return $.each(f,function(f,j){i=i+j+","}),i=i.substr(0,i.length-1),"data_ajax={"+i+"}"}function get_dataSending(f){var i=$("#"+f+" .data-sending"),j=[];return $.each(i,function(f,i){var k=$(i).ybs_json();void 0===k||j.push(k)}),j}function ybs_dtSending(f){var i="";return $.each(f,function(f,j){i=i+j+","}),i=i.substr(0,i.length-1),"{"+i+"}"}$(".sound-apply").click(function(){play_sound_apply()}),$(".sound-entered").click(function(){play_sound_entered()}),$(".sound-click").click(function(){play_sound_click()}),$(".sound-success").click(function(){play_sound_success()}),$(".sound-failed").click(function(){play_sound_failed()});var sound_click=$("#sound_click")[0],sound_entered=$("#sound_entered")[0],sound_apply=$("#sound_apply")[0],sound_success=$("#sound_success")[0],sound_failed=$("#sound_failed")[0];function play_sound_click(){sound_stop(),prepare_sound(),sound_click.play()}function play_sound_entered(){sound_stop(),prepare_sound(),sound_entered.play()}function play_sound_apply(){sound_stop(),prepare_sound(),sound_apply.play()}function play_sound_success(){sound_stop(),prepare_sound(),sound_success.play()}function play_sound_failed(){sound_stop(),prepare_sound(),sound_failed.play()}function sound_stop(){sound_click="",sound_entered="",sound_apply="",sound_success="",sound_failed=""}function prepare_sound(){sound_click=$("#sound_click")[0],sound_entered=$("#sound_entered")[0],sound_apply=$("#sound_apply")[0],sound_success=$("#sound_success")[0],sound_failed=$("#sound_failed")[0]}function load_style_icheck(){$(function(){$(".select2").select2(),$("#datemask").inputmask("dd/mm/yyyy",{placeholder:"dd/mm/yyyy"}),$("#datemask2").inputmask("mm/dd/yyyy",{placeholder:"mm/dd/yyyy"}),$("[data-mask]").inputmask(),$("#reservation").daterangepicker(),$("#reservationtime").daterangepicker({timePicker:!0,timePickerIncrement:30,format:"MM/DD/YYYY h:mm A"}),$("#daterange-btn").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:moment().subtract(29,"days"),endDate:moment()},function(f,i){$("#daterange-btn span").html(f.format("MMMM D, YYYY")+" - "+i.format("MMMM D, YYYY"))}),$("#datepicker").datepicker({autoclose:!0}),$(".datepicker").datepicker({autoclose:!0,format:"dd.mm.yyyy"}),$("input[type=\"checkbox\"].minimal, input[type=\"radio\"].minimal").iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"}),$("input[type=\"checkbox\"].minimal-red, input[type=\"radio\"].minimal-red").iCheck({checkboxClass:"icheckbox_minimal-red",radioClass:"iradio_minimal-red"}),$("input[type=\"checkbox\"].flat-red, input[type=\"radio\"].flat-red").iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green"}),$(".my-colorpicker1").colorpicker(),$(".my-colorpicker2").colorpicker(),$(".timepicker").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1,showInputs:!1})})}function action_button_header(f,i,j,k,l,m,n){$("#menu_link_create").click(function(){$("#button_front_c_d").removeClass("btn-delete"),$("#button_front_c_d").removeClass("btn-update"),$("#button_front_c_d").addClass("btn-create"),$("#button_front_c_d").attr("title","create"),$("#button_front_c_d").html("<i class=\"fa  fa-file-o\"></i>  Create"),$("#btn-general-1").attr("onclick","load_paging(\""+f+"\",\"\")"),$("#btn-general-1").click()}),$("#menu_link_update").click(function(){$("#button_front_c_d").removeClass("btn-delete"),$("#button_front_c_d").removeClass("btn-create"),$("#button_front_c_d").addClass("btn-update");var f=get_checked_table();$("#button_front_c_d").attr("title","Update Checked"),$("#button_front_c_d").html("<i class=\"fa fa-pencil-square-o\"></i>  Update Checked"),$("#btn-general-1").attr("onclick","load_paging(\""+m+"\",\""+f+"\")"),$("#btn-general-1").click()}),$("#menu_link_delete").click(function(){$("#button_front_c_d").removeClass("btn-create"),$("#button_front_c_d").removeClass("btn-update"),$("#button_front_c_d").addClass("btn-delete");var f,j=get_checked_table(),k=[],l=[],m=0;for(m=0;m<j.length;m++)f=j[m].split("-"),l.push(f[0]),k.push(m+1+". "+f[1]);$(".modal-body").empty(),$("#button_front_c_d").attr("title","delete"),$("#button_front_c_d").html("<i class=\"fa fa-trash-o\"></i>  Delete Checked"),0<j.length&&($(".modal-body").empty(),$(".modal-body").append("<p>Data yang akan di hapus :</p>"),$(".modal-body").append("<p>"+k+"</p>"),$("#button_konfirm_delete").attr("onclick","ybsProcDelTable(\""+l+"\",\""+i+"\",\""+n+"\")"),$("#button_front_c_d").attr("data-toggle","modal"),$("#button_front_c_d").attr("data-target","#modal-danger"),$("#menu_link_delete").attr("data-toggle","modal"),$("#menu_link_delete").attr("data-target","#modal-danger"))}),$("#button_front_c_d").click(function(){var j,k=get_checked_table(),l=[],m=0;for(m=0;m<k.length;m++)j=k[m].split("-"),l.push(m+1+". "+j[1]);$(".modal-body").empty(),$("#button_front_c_d").attr("data-toggle",""),$("#button_front_c_d").attr("data-target",""),$("#button_front_c_d").hasClass("btn-create")?($("#btn-general-1").attr("onclick","load_paging(\""+f+"\",\""+k+"\")"),$("#btn-general-1").click()):$("#button_front_c_d").hasClass("btn-delete")&&0<k.length&&$("#button_front_c_d").hasClass("btn-delete")&&($(".modal-body").empty(),$(".modal-body").append("<p>Data yang akan di hapus :</p>"),$(".modal-body").append("<p>"+l+"</p>"),$("#button_konfirm_delete").attr("onclick","ybsProcDelTable(\""+k+"\",\""+i+"\",\""+n+"\")"),$("#button_front_c_d").attr("data-toggle","modal"),$("#button_front_c_d").attr("data-target","#modal-danger"))}),$("#button_front_download").click(function(){}),$("#download_pdf").click(function(){$("#button_front_download").attr("href",k),$("#button_front_download").html("<i class=\"fa fa-arrow-circle-down\"></i>  download pdf")}),$("#download_word").click(function(){$("#button_front_download").attr("href",l),$("#button_front_download").html("<i class=\"fa fa-arrow-circle-down\"></i>  download word")}),$("#download_excel").click(function(){$("#button_front_download").attr("href",j),$("#button_front_download").html("<i class=\"fa fa-arrow-circle-down\"></i>  download excel")})}function ybs_table_filter(f,j){var k,l,m,n,o;for(k=document.getElementById(j),l=k.value.toUpperCase(),columnsearch=document.getElementById("button_filter").value,table=document.getElementById(f),m=table.getElementsByTagName("tr"),o=0;o<m.length;o++)n=m[o].getElementsByTagName("td")[columnsearch],n&&(-1<n.innerHTML.toUpperCase().indexOf(l)?m[o].style.display="":m[o].style.display="none")}$(".filter-table").click(function(){var f=$(this).prop("id"),i=f.split("--");$("#button_filter").val(i[1]),$("#button_filter").html($("#"+f).text()+"&nbsp; <span class='caret'></span><span class='sr-only'>Toggle Dropdown</span>")});function show_error_message(f){config_toast_master(),toastr.error(f)}function show_warning_message(f){config_toast_master(),toastr.warning(f)}function remove_message(){toastr.clear()}function show_success_message(f){config_toast_master(),toastr.success(f)}function config_toast_master(){toastr.clear(),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-full-width",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"20000",timeOut:"20000",extendedTimeOut:"20000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}function start_loading_in(f){var i=f;i=i.replace("#","_"),i=i.replace(".","_"),i=i.replace(" ",""),$("#loading_progress"+i).hasClass("overlay")||$(f).append("<div class=\"overlay\" id=\"loading_progress"+i+"\"> <i class=\"fa fa-refresh fa-spin\"></i></div>")}function stop_loading_in(f){var i=f;i=i.replace("#","_"),i=i.replace(".","_"),i=i.replace(" ",""),$("#loading_progress"+i).remove()}function load_paging(f,i){start_loading_in("#box-content-body"),d=f,dt=get_json_format("data",i),send_data=ybs_dataSending([dt]),$.ajax({type:"GET",url:d,data:send_data,processData:!1,cache:!1,success:function(f){var i=JSON.parse(f);switch(i.success){case"true":remove_error_message(),stop_loading_in("#box-content-body"),$("#box-content-body").hide(),$("#box-content-body").html(i.message),$("#box-content-body").fadeIn(),$(".box").boxWidget(),$("#count-notification").remove(),$("#id-notify").after(i.count_notify),$("#id-list-notify").empty(),$("#id-list-notify").append(i.data_notify),$("#menu-notification").after(i.menu_configurator),$("#id-title-page").empty(),$("#id-title-page").append(i.title_page),$(".breadcrumb").remove(),$("#id-title-page").after(i.breadcrumb);break;case"false":show_error_message(i.message),$(i.elementid).focus(),play_sound_failed(),stop_loading_in("#box-content-body");break;case"redirect":load_paging(i.message,i.param);break;case"redirect-no-ajax":$("#redirect-form").prop("action",i.message),$("#redirect-button").click();}}})}function search_form(f){start_loading_in("#box-content-body"),d=f,code=$("#txt_search_form").ybs_json(),send_data=ybs_dataSending([code]),$.ajax({type:"GET",url:d,data:send_data,processData:!1,cache:!1,success:function(f){var i=JSON.parse(f);switch(i.success){case"true":load_paging(i.message,"");break;case"false":show_error_message(i.message),$(i.elementid).focus(),play_sound_failed(),stop_loading_in("#box-content-body");break;case"redirect":load_paging(i.message,i.param);break;case"redirect-no-ajax":$("#redirect-form").prop("action",i.message),$("#redirect-button").click();}}})}function ybsRequest(){}ybsRequest.prototype.loadingIn=function(){return"#box-content-body"},ybsRequest.prototype.beforeProcess=function(){},ybsRequest.prototype.onBeforeSuccess=function(){},ybsRequest.prototype.onSuccess=function(f){show_success_message(f.message),play_sound_success()},ybsRequest.prototype.onAfterSuccess=function(){},ybsRequest.prototype.onBeforeFailed=function(){},ybsRequest.prototype.onFailed=function(f){$(f.elementid).focus(),show_error_message(f.message),play_sound_failed()},ybsRequest.prototype.onAfterFailed=function(){},ybsRequest.prototype.onError=function(f,i,j){"Forbidden"==j?show_error_message("Opps..akses ditolak..!! refresh halaman ini.."):show_error_message(j),play_sound_failed()},ybsRequest.prototype.onComplite=function(){},ybsRequest.prototype.process=function(f,i,j){var k=this;null!=j&&""!=j||"GET"!=j,d=f,send_data=sec_val+i,$.ajax({type:j,url:d,data:send_data,processData:!1,cache:!1,beforeSend:function(){start_loading_in(k.loadingIn()),k.beforeProcess()},success:function(f){try{var i=JSON.parse(f);switch(sec_val=i.sec_val,i.success){case"true":k.onBeforeSuccess(i),k.onSuccess(i),k.onAfterSuccess(i);break;case"false":k.onBeforeFailed(i),k.onFailed(i),k.onAfterFailed(i);break;case"redirect":$("#redirect-form").prop("action",i.message),$("#redirect-button").click();}}catch(i){k.onBeforeSuccess(f),k.onSuccess(f),k.onAfterSuccess(f)}},error:function(f,i,j){k.onError(f,i,j)},complete:function(){k.onComplite(),stop_loading_in(k.loadingIn())}})};function get_sec_val(){var f=sec_val.split("="),i=f[1].substring(0,f[1].length-1);return i}function set_sec_val(f){var i=JSON.parse(f);sec_val=i.sec_val}function ybsDeleteTable(f,i,j){var k=f.split("-"),l="";1<k.length&&(l=f.replace(k[0]+"-","")),$(".modal-body").empty(),$(".modal-body").append("<p>Data yang akan di hapus :</p>"),$(".modal-body").append("<p>"+l+"</p>"),$("#button_konfirm_delete").attr("onclick","ybsProcDelTable(\""+k[0]+"\",\""+i+"\",\""+j+"\")"),$("#button_delete_single").click()}function ybsDeleteTableChecked(f,i){var j,k=get_checked_table(),l=[],m=[],n=0;for(n=0;n<k.length;n++)j=k[n].split("-"),m.push(j[0]),l.push(n+1+". "+j[1]);$(".modal-body").empty(),0<k.length&&($(".modal-body").empty(),$(".modal-body").append("<p>Data yang akan di hapus :</p>"),$(".modal-body").append("<p>"+l+"</p>"),$("#button_konfirm_delete").attr("onclick","ybsProcDelTable(\""+m+"\",\""+f+"\",\""+i+"\")"),$("#button_delete_single").click())}function show_konfirm_delete(f,i){$(".modal-body").empty(),$(".modal-body").append("<p>Data yang akan di hapus :</p>"),$(".modal-body").append("<p>"+f+"</p>"),$("#button_konfirm_delete").attr("onclick",i)}function ybsProcDelTable(f,i,j){dt=get_json_format("data_delete",f),send_data=ybs_dataSending([dt]);var k=new ybsRequest;k.process(i,send_data),k.onComplite=function(){try{var f=$(j).DataTable(),i=f.search();f.clear().draw(),f.destroy(),refresh_table(i)}catch(f){}}}function update_form_dashboard(f,i,j){var k="0";$("#ybs-dash").hasClass("text-dark")?($("#ybs-dash").removeClass("text-dark"),$("#ybs-dash").addClass("text-orange"),k="1"):($("#ybs-dash").removeClass("text-orange"),$("#ybs-dash").addClass("text-dark"),k="0");var l=get_json_format("initial",i),m=get_json_format("idform",j),n=get_json_format("select",k);send_data=ybs_dataSending([l,m,n]);var o=new ybsRequest;o.loadingIn=function(){return""},o.process(f,send_data,"POST")}function konversi_nomor_ke_bulan(f){return"01"===f?f="JANUARI":"02"===f?f="FEBRUARI":"03"===f?f="MARET":"04"===f?f="APRIL":"05"===f?f="MEI":"06"===f?f="JUNI":"07"===f?f="JULI":"08"===f?f="AGUSTUS":"09"===f?f="SEPTEMBER":"10"===f?f="OKTOBER":"11"===f?f="NOVEMBER":"12"===f?f="DESEMBER":void 0,f}function numberFormat(f){try{return f=f.toString(),f=f.split("."),val1=f[0].replace(/\,/gi,""),rev=val1.toString().split("").reverse().join(""),ribuan=rev.match(/\d{1,3}/g),ribuan=ribuan.join(",").split("").reverse().join(""),des="",2==f.length&&(des="."+f[1]),ribuan+des}catch(f){return""}}(function(f){f.fn.ybs_inputNumber=function(){this.keyup(function(){d=numberFormat(this.value),this.value=d}),this.keydown(function(f){var i=f.keyCode;return 48<=i&&57>=i||8==i||37==i||39==i||190==i||96<=i&&105>=i})}})(jQuery),$(".input-number").on("keydown",function(f){var i=f.keyCode;return 48<=i&&57>=i||8==i||37==i||39==i||96<=i&&105>=i}),$(".input-alfa").on("keydown",function(f){var i=f.keyCode;return 65<=i&&90>=i||8==i||37==i||39==i}),$(".input-alfa-number").on("keydown",function(f){var i=f.keyCode;return 48<=i&&57>=i||65<=i&&90>=i||8==i||37==i||39==i||96<=i&&105>=i}),$(".ybs-input-number").ybs_inputNumber(),function(f){f.fn.show_onscroll=function(i){id_element=f(this).attr("id"),window.onscroll=function(){scrollFunction(id_element,i)}}}(jQuery);function scrollFunction(f,i){try{document.getElementById(f).style.display=document.body.scrollTop>i||document.documentElement.scrollTop>i?"block":"none"}catch(f){}}function go_top(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function scroll_to(f,i){window.scrollTo(f,i)}(function(f){f.fn.linkTo=function(i){parentid=f(this).attr("id"),f(this).ready(function(){option_hide(parentid,i)}),f(this).change(function(){option_hide(parentid,i)})}})(jQuery);function linkToSelectize(f,i){var j=$("#"+i+" option"),l=[];$.each(j,function(f,j){var k=$(j).text(),m=$(j).val(),n=$(j).attr("data-link"),o=$(j).attr("selected"),p=[];p.text=k,p.value=m,p.data_link=n,p.selected=o,l.push(p)}),$("#"+f).ready(function(){var j=$("#"+f).val();refresh_child(j,l,i)}),$("#"+f).selectize({onChange:function(f){refresh_child(f,l,i)}})}function refresh_child(f,j,k){var l=[],m={text:"--Pilih Data--",value:"null"};l.push(m);var n=0,o="",p="";$.each(j,function(j,k){if(k.data_link==f){var m,q=k.text,r=k.value,t=k.data_link;m={text:q,value:r},l.push(m),"selected"==k.selected&&(o=k.value),0==n&&(p=k.value),n++}}),""==o&&(o=p);var q=$("#"+k).selectize({}),m=q[0].selectize;m.clear(),m.clearOptions(),m.addOption(l),m.setValue(o),""==m.getValue()&&m.setValue("null")}function option_hide(f,i){var j=$("#"+i+" option"),l=$("#"+f).val(),m=0,n="";$.each(j,function(f,i){var j=$(i).attr("data-link");j==l?($(this).attr("hidden",!1),0==m&&(n=$(this).val()),m++):$(this).attr("hidden",!0)}),$("#"+i).val(n)}function linkToSelectize_mto(f){var i=$("#"+f.comboboxID+" option"),j=$("#"+f.comboboxID).val(),k=$("#"+f.comboboxID).selectize({onChange:function(j){$.each(i,function(i,k){j==$(k).val()&&$.each(f.field_link,function(f,j){var l=[],m="",n=$(k).attr("data-show-"+j.field_show),o=$(k).attr("data-link-"+j.field_link);m=o;var p;p={text:n,value:o},l.push(p);var q=$("#"+j.comboboxTargetID).selectize({}),r=q[0].selectize;r.clear(),r.clearOptions(),r.addOption(l),r.setValue(m)})})}}),l=k[0].selectize;l.setValue(j)}var waiting_process=0;function linkToSelectize_Big(i,j){var k=$("#"+i).attr("data-table"),l=$("#"+i).attr("data-primary"),m=$("#"+i).attr("data-flink"),n=$("#"+i).attr("data-fshow"),o=$("#"+i).attr("data-select"),p=$("#"+j).attr("data-table"),q=$("#"+j).attr("data-primary"),r=$("#"+j).attr("data-flink"),t=$("#"+j).attr("data-fshow"),u=$("#"+j).attr("data-select");[].push({text:"--Pilih Data--",value:"null"});var v="",w=document.location.origin;v=""==xax?"":"/"+xax,link_data=w+v+"/YbsService/combobox_data",link_data=link_data.replace(/([^:]\/)\/+/g,"$1"),$("#"+i).ready(function(){if(""==m||null==m||m===void 0){a=get_json_format("t",k),b=get_json_format("fs",n),c=get_json_format("w",""),x=get_json_format("wv",""),y=get_json_format("tk",data_token),send_data=ybs_dataSending([y,a,b,c,x]);var f=new ybsRequest;f.process(link_data,send_data),waiting_process=1,f.onSuccess=function(f){var k=$("#"+i).selectize({options:f.message,onChange:function(f){if(0==waiting_process){waiting_process=1;var i=new ybsRequest;e=get_json_format("t",p),v=get_json_format("fs",t),g=get_json_format("w",r),h=get_json_format("wv",f),y=get_json_format("tk",data_token),send_data=ybs_dataSending([y,e,v,g,h]),i.process(link_data,send_data),i.onSuccess=function(f){waiting_process=0;var k=$("#"+j).selectize({}),l=k[0].selectize;l.clear(!0),l.clearOptions(),l.addOption(f.message),l.setValue(u),""==l.getValue()&&l.setValue("null")}}}});waiting_process=0;var l=k[0].selectize;l.setValue(o),""==l.getValue()&&l.setValue("null")}}else $("#"+i).selectize({onChange:function(f){if(0==waiting_process){waiting_process=1;var i=new ybsRequest;e=get_json_format("t",p),v=get_json_format("fs",t),g=get_json_format("w",r),h=get_json_format("wv",f),y=get_json_format("tk",data_token),send_data=ybs_dataSending([y,e,v,g,h]),i.process(link_data,send_data),i.onSuccess=function(f){waiting_process=0;var k=$("#"+j).selectize({}),l=k[0].selectize;l.clear(!0),l.clearOptions(),l.addOption(f.message),l.setValue(u),""==l.getValue()&&l.setValue("null")}}}})})}var cupt=0;function dropzone_area(i){0==cupt&&(clear_temp_upload(),cupt=1);var j=i.elementID,k=i.max_files,l=i.max_size,m=i.type,n=i.allowRemoveFile,o=$(j).attr("data-folder"),p=i.timeout,q=i.autosave;null==k&&(k=20),null==l&&(l=25),null==n&&(n=!1),null==p&&(p=18e4),null==q&&(q=!0);var r="";r="image"===m?"image/*":"audio"===m?"audio/*":"vidio"===m?"video/*":"all"===m?"":"document"===m?"application/.xls,.xlsx,.pdf,.doc,.docx,.ppt,.pptx,.txt":"";var t="",u=document.location.origin;t=""==xax?"":"/"+xax,link_data=u+t+"/Service_Upload/upload/"+data_token,link_remove=u+t+"/Service_Upload/remove_upload/"+data_token,link_data=link_data.replace(/([^:]\/)\/+/g,"$1"),link_remove=link_remove.replace(/([^:]\/)\/+/g,"$1"),Dropzone.autoDiscover=!1;var v=new Dropzone(j,{maxFilesize:l,maxFiles:k,acceptedFiles:r,url:link_data,paramName:"file",dictFileTooBig:"File Terlalu Besar ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"Type file ini tidak dizinkan",dictMaxFilesExceeded:"Opps..Max fileUpload : {{maxFiles}} Files",dictResponseError:"Error while uploading file!",addRemoveLinks:!0,timeout:p,previewTemplate:"<div class=\"dz-preview dz-file-preview\">\n  <div class=\"dz-details\">\n    <div class=\"dz-filename\"><span data-dz-name></span></div>\n    <div class=\"dz-size\" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class=\"progress progress-small progress-striped active\"><div class=\"progress-bar progress-bar-success\" data-dz-uploadprogress></div></div>\n  <div class=\"dz-success-mark\"><span></span></div>\n  <div class=\"dz-error-mark\"><span></span></div>\n  <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\n</div>",init:function(){this.on("sending",function(f,i,j){j.append("path_upload",o);var k=sec_val.split("=");j.append("autosave",q),j.append(k[0],k[1].replace("&",""))}),this.on("success",function(f,i){try{var k=JSON.parse(i);if(sec_val=k.sec_val,"false"==k.success)$(f.previewElement).addClass("dz-error").find(".dz-error-message").text(k.message);else{var l=$(j).attr("data-upload"),m=$(j).attr("data-time"),n=$(j).attr("data-ext"),o=$(j).attr("data-orig-name");null==l?(l=k.message,m=k.time_post,n=k.ext,o=k.orig_name):(l=l+" "+k.message,m=m+" "+k.time_post,n=n+" "+k.ext,o=o+" "+k.orig_name),$(j).attr("data-upload",l),$(j).attr("data-time",m),$(j).attr("data-ext",n),$(j).attr("data-orig-name",o),f.upload_id=k.message,f.upload_time=k.time_post,f.upload_ext=k.ext,f.upload_orig_name=k.orig_name}}catch(j){$(f.previewElement).addClass("dz-error").find(".dz-error-message").text(i)}}),this.on("removedfile",function(f){if(!0==n&&!0==q){var i=new ybsRequest;s=get_json_format("upload_id",f.upload_time),send_data=ybs_dataSending([s]),i.process(link_remove,send_data),i.onSuccess=function(f){show_success_message(f.message)},i.onFailed=function(){};var k=$(j).attr("data-upload");k=k.replace(f.upload_id,""),k=k.replace(/^\s+|\s+$/gm,""),$(j).attr("data-upload",k);var l=$(j).attr("data-time");l=l.replace(f.upload_time,""),l=l.replace(/^\s+|\s+$/gm,""),$(j).attr("data-time",l);var m=$(j).attr("data-ext");m=m.replace(f.upload_ext,""),m=m.replace(/^\s+|\s+$/gm,""),$(j).attr("data-ext",m);var o=$(j).attr("data-orig-name");o=o.replace(f.upload_orig_name,""),o=o.replace(/^\s+|\s+$/gm,""),$(j).attr("data-orig-name",o)}else{var k=$(j).attr("data-upload");k=k.replace(f.upload_id,""),k=k.replace(/^\s+|\s+$/gm,""),$(j).attr("data-upload",k);var l=$(j).attr("data-time");l=l.replace(f.upload_time,""),l=l.replace(/^\s+|\s+$/gm,""),$(j).attr("data-time",l);var m=$(j).attr("data-ext");m=m.replace(f.upload_ext,""),m=m.replace(/^\s+|\s+$/gm,""),$(j).attr("data-ext",m);var o=$(j).attr("data-orig-name");o=o.replace(f.upload_orig_name,""),o=o.replace(/^\s+|\s+$/gm,""),$(j).attr("data-orig-name",o)}})}});$(document).on("ajaxloadstart.page",function(){try{v.destroy()}catch(f){}})}function dropzone_save(i){var j="",k=document.location.origin;j=""==xax?"":"/"+xax;link_sv=k+j+"/Service_Upload/save_temp/"+data_token;var l=i.split(",");$.each(l,function(f,i){if(times=$(i).attr("data-time"),""==times||null==times||void 0===times)return!1;var j=new ybsRequest;a=get_json_format("time",times),send_data=ybs_dataSending([a]),j.process(link_sv,send_data),j.onSuccess=function(){$(i).attr("data-time",""),$(i).attr("data-upload",""),$(i).attr("data-ext",""),$(i).attr("data-orig-name","")}})}function dropzone_result(i){var j=this,k="",l=document.location.origin;k=""==xax?"":"/"+xax;link_gf=l+k+"/Service_Storage/get_access_file/"+data_token;var m=get_json_format("time",i);send_data=ybs_dataSending([m]);var n=new ybsRequest;n.process(link_gf,send_data),n.onSuccess=function(f){j.onComplite(f)}}dropzone_result.prototype.onComplite=function(){};function clear_temp_upload(){var i="",j=document.location.origin;i=""==xax?"":"/"+xax,link_clear=j+i+"/Service_Upload/clear_temp/"+data_token,link_clear=link_clear.replace(/([^:]\/)\/+/g,"$1");var k=new ybsRequest;k.process(link_clear),k.onSuccess=function(){}}function reload_script(f,i){$(f).remove();var j=document.createElement("script"),k=f;k=k.replace("#",""),k=k.replace(".",""),j.type="text/javascript",j.src=i,j.id=k,$("#section_script").append(j)}